function SceneManager(e){this.scenes=[],this.scene=null,this.wire=function(){const n=["mouseClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","doubleClicked","mouseWheel","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"];var s=this,t=null!=e?e:window;t.draw=function(){s.draw()};for(var c=0;c<n.length;c++){let e=n[c];t[e]=function(){s.handleEvent(e)}}return s},this.addScene=function(n){var s=new n(e);this.p=e,s.sceneManager=this;var t={fnScene:n,oScene:s,hasSetup:"setup"in s,hasEnter:"enter"in s,hasDraw:"draw"in s,setupExecuted:!1,enterExecuted:!1};return this.scenes.push(t),t},this.findSceneIndex=function(e){for(var n=0;n<this.scenes.length;n++){if(this.scenes[n].fnScene==e)return n}return-1},this.findScene=function(e){var n=this.findSceneIndex(e);return n>=0?this.scenes[n]:null},this.isCurrent=function(e){return null!=this.scene&&this.scene.fnScene==e},this.showScene=function(e,n){var s=this.findScene(e);null==s&&(s=this.addScene(e)),s.enterExecuted=!1,this.scene=s,s.oScene.sceneArgs=n},this.showNextScene=function(e){if(0!=this.scenes.length){var n=0;if(null!=this.scene){var s=this.findSceneIndex(this.scene.fnScene);n=s<this.scenes.length-1?s+1:0}var t=this.scenes[n];this.showScene(t.fnScene,e)}},this.draw=function(){var e=this.scene;null!=e&&(e.hasSetup&&!e.setupExecuted&&(e.oScene.setup(),e.setupExecuted=!0),e.hasEnter&&!e.enterExecuted&&(e.oScene.enter(),e.enterExecuted=!0),e.hasDraw&&e.oScene.draw())},this.handleEvent=function(e){if(null!=this.scene&&null!=this.scene.oScene){var n=this.scene.oScene[e];n&&n.call(this.scene.oScene)}},this.mousePressed=function(){this.handleEvent("mousePressed")},this.keyPressed=function(){this.handleEvent("keyPressed")}}
