class Messages extends Scene{constructor(){super(),this.reset()}draw(){background(255),this.song_started||(this.startSong(messages),this.song_started=!0),Game.shapes=this.shapes,Game.shapes.forEach(((t,s)=>{t.update(),t.draw(),this.transition.alpha<5&&this.createCollision(t,s)})),this.transition.update(),this.transition.draw(),this.transition.q.length||this.song_stopped||(this.endSong(),this.song_stopped=!0),null!=this.transition.current||this.transition.q.length||(this.saveProgress("HomeTwitter"),this.endScene())}reset(){this.song_started=!1,this.song_stopped=!1,this.shapes=[];const t="#1a73e8";let s=16,e=5e4;for(let a=0;a<40;a++){let a=random()>=.5,i=random(40,200),o=i<150?32:32*floor(random(1,5)),r=a?16:Game.width-16-i,n=s,h=a?8:Game.width-16,d=s+o-8,l=a?"triangle_right":"triangle_left";s=n+o+32,this.shapes.push(new Poly({x:r,y:n,w:i,h:o,color:t},[{delay:6e3,duration:e,props:{y:n-2e3}}]),new Poly({x:h,y:d,w:8,h:8,color:t,shape:l},[{delay:6e3,duration:e,props:{y:d-2e3}}]))}this.transition=new Poly({x:0,y:0,w:Game.width,h:Game.height,color:255},[this.startBuffer(),{delay:0,duration:2e3,props:{alpha:0}},{delay:e,duration:2e3,props:{alpha:255}},this.endBuffer()])}}
