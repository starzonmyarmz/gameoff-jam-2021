class Messages extends Scene{constructor(){super(),this.reset()}draw(){background(255),this.song_started||(this.startSong(messages),this.song_started=!0),Game.shapes=this.shapes,Game.shapes.forEach(((t,s)=>{t.update(),t.draw(),this.transition.alpha<100&&this.createCollision(t,s)})),this.transition.update(),this.transition.draw(),this.transition.q.length||this.song_stopped||(this.endSong(),this.song_stopped=!0),null!=this.transition.current||this.transition.q.length||this.endScene()}reset(){this.song_started=!1,this.song_stopped=!1,this.shapes=[];const t="#1a73e8";let s=0;for(let e=0;e<30;e++){let e=random()>=.5,a=random(40,200),i=a<150?32:32*floor(random(1,5)),n=e?16:Game.width-16-a,o=s,r=e?8:Game.width-16,h=s+i-8,d=e?"triangle_right":"triangle_left";s=o+i+16,this.shapes.push(new Poly({x:n,y:o,w:a,h:i,color:t},[{delay:6e3,duration:3e4,props:{y:o-1500}}]),new Poly({x:r,y:h,w:8,h:8,color:t,shape:d},[{delay:6e3,duration:3e4,props:{y:h-1500}}]))}this.transition=new Poly({x:0,y:0,w:Game.width,h:Game.height,color:255},[this.startBuffer(),{delay:0,duration:2e3,props:{alpha:0}},{delay:3e4,duration:2e3,props:{alpha:255}},this.endBuffer()])}}
