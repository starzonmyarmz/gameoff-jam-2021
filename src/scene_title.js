class Title{constructor(){this.reset()}draw(){background(255),fill(this.color),textSize(48),textAlign(CENTER,TOP),textFont(roboto_black),text("Trapped",Game.width/2,Game.height/4-16),textSize(12),textAlign(LEFT,TOP),textFont(roboto_regular),text("Settings",12,12),textAlign(CENTER,BOTTOM),text("Swipe to play",Game.width/2,Game.height-16),rectMode(CENTER),rect(Game.width/2,Game.height-64,200,48),fill(255),rect(this.current_x,Game.height-64,36,36),this.rewind&&(this.current_x-=4,this.current_x<=this.start_x&&(this.current_x=this.start_x,this.rewind=!1)),this.fadeOut&&(Game.sound&&!this.music_fading&&(Game.song.setVolume(0,2),this.music_fading=!0),this.color+=2,this.color>=255&&endScene()),Game.bug.hidden=!1,this.transition.update(),this.transition.draw()}touchStarted(){mouseX<134&&mouseY<72&&(document.getElementById("settings").hidden=!1),mouseY>Game.height-84&&(this.touching=!0)}touchMoved(){this.fadeOut||this.touching&&(this.current_x=constrain(mouseX,this.start_x,this.start_x+152),this.current_x>=this.start_x+152&&(this.fadeOut=!0))}touchEnded(){this.touching=!1,this.current_x<this.start_x+152&&(this.rewind=!0)}reset(){this.start_x=Game.width/2-76,this.current_x=Game.width/2-76,this.rewind=!1,this.fadeOut=!1,this.touching=!1,this.color=0,this.music_fading=!1,this.transition=new Poly({x:0,y:0,w:Game.width,h:Game.height,color:255},[{delay:2e3,duration:2e3,props:{alpha:0}}])}}
