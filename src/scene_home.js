class Home extends Scene{constructor(){super(),this.reset()}draw(){background(255),this.song_started||(this.startSong(home),this.song_started=!0),Game.shapes=this.shapes,Game.shapes.forEach(((t,e)=>{t.update(),t.draw(),this.transition.x>1&&this.createCollision(t,e)})),this.transition.update(),this.transition.draw(),this.transition.q.length||this.song_stopped||(this.endSong(),this.song_stopped=!0),null!=this.transition.current||this.transition.q.length||this.endScene()}reset(){this.song_started=!1,this.song_stopped=!1,this.shapes=[];const t=Game.width/4,e=Game.height/6,s=[[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,0,0],[0,0,0,0]],[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],[[1,1,1,1],[1,1,1,1],[1,1,1,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]];for(let h=0;h<s.length;h++)for(let i=0;i<s[h].length;i++)for(let a=0;a<s[h][i].length;a++)1===s[h][i][a]&&this.shapes.push(new Poly({x:Game.width*h+16+t*a,y:e*i+16,w:48,h:48},[{delay:6e3,duration:250,props:{x:16+t*a+Game.width*(h-1)}},{delay:4e3,duration:250,props:{x:16+t*a+Game.width*(h-2)}}]));this.transition=new Poly({x:0,y:0,w:Game.width,h:Game.height,color:255},[this.startBuffer(),{delay:2e3,duration:2e3,props:{alpha:.01}},{delay:0,duration:0,props:{x:96,y:96,w:48,h:48}},{delay:12e3,duration:1e3,props:{x:0,y:0,w:Game.width,h:Game.height,alpha:255}},this.endBuffer()])}}
