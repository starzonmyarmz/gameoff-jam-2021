class Twitter extends Scene{constructor(){super(),this.reset()}draw(){background(255),this.song_started||(this.startSong(messages),this.song_started=!0),Game.shapes=this.shapes,Game.shapes.forEach(((s,e)=>{s.update(),s.draw()})),this.transition.update(),this.transition.draw()}reset(){this.song_started=!1,this.song_stopped=!1,this.shapes=[];const s="#1d9bf0";let e=16,o=6e4,a=4e3,t=t=>{this.shapes.push(new Poly({x:16,y:t-a,w:48,h:48,shape:"ellipse",color:s},[{delay:0,duration:o,props:{y:t}}]),new Poly({x:78,y:t+12-a,w:random(48,144),h:8,color:s},[{delay:0,duration:o,props:{y:t+12}}]),new Poly({x:78,y:t+28-a,w:random(48,144),h:8,color:s},[{delay:0,duration:o,props:{y:t+28}}]),new Poly({x:296,y:t+14-a,w:16,h:4,color:s},[{delay:0,duration:o,props:{y:t+14}}]));let r=round(random(1,5));for(let e=0;e<=r;e++)this.shapes.push(new Poly({x:16,y:t+60+12*e-a,w:e===r?random(48,176):random(248,288),h:4,color:s},[{delay:0,duration:o,props:{y:t+60+12*e}}]));if(e=e+88+12*r,random()>.5){let t=random(125,250);this.shapes.push(new Poly({x:16,y:e-a,w:288,h:t,color:s},[{delay:0,duration:o,props:{y:e}}])),e=e+t+24}};for(let s=0;s<20;s++)t(e);this.shapes.push(new Poly({x:Game.width-56,y:Game.height-56,w:48,h:48,shape:"ellipse",color:s},[{delay:0,duration:0,props:{}}])),this.transition=new Poly({x:0,y:0,w:Game.width,h:Game.height,color:255},[this.startBuffer(),{delay:0,duration:2e3,props:{alpha:0}},{delay:o,duration:2e3,props:{alpha:255}},this.endBuffer()])}}
