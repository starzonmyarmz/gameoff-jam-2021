class Intro extends Scene{constructor(){super(),this.reset()}draw(){background("rgba(0, 0, 0, 0)"),fill(0),rect(0,Game.height-48,Game.width,48),fill(255),textSize(14),textAlign(CENTER,BOTTOM),text("tap to begin",Game.width/2,Game.height-24),!Game.skip_intro&&this.intro_started&&(image(intro,0,0,Game.width,Game.height),intro.elt.ended&&(Game.skip_intro=!0,localStorage.setItem("trapped_game_intro",Game.skip_intro),this.endScene()))}touchEnded(){Game.permission&&(this.intro_started||(Game.song=dummy,Game.song.play(),Game.song.setVolume(0),Game.skip_intro?this.endScene():intro.play(),this.intro_started=!0))}reset(){this.intro_started=!1}}
